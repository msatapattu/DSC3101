{"title":"Learn Quarto","markdown":{"yaml":{"title":"Learn Quarto","author":"Pushpakanthie Wijekoon","affiliation":"Department of Statistics & Computer Science, University of","format":{"html":{"code-fold":true,"toc":true,"theme":"beige"}},"toc-location":"left","title-block-banner":true,"number-sections":true,"editor":"visual"},"headingText":"Bivariate graphs","containsRefs":false,"markdown":"\n\n\nBivariate graphs display the relationship between two variables. The type of graph will depend on the measurement level of the variables (categorical or quantitative).\n\n### Categorical vs. Categorical graphs\n\nWhen plotting the relationship between two categorical variables, stacked, grouped, or segmented bar charts are typically used. A less common approach is the mosaic chart.\n\n**Example**\n\nThe mpg dataset from the ggplot2 package, contains fuel economy data for 38 popular models of car, for the years 1999 and 2008. Plot the relationship between automobile class and drive type (front-wheel, rear-wheel, or 4-wheel drive) for the automobiles.\n\n#### Access data\n\n```{r}\n#| label: load-data\n#| message: false\n#| warning: false\nlibrary(ggplot2)\ndata(mpg, package=\"ggplot2\")\nlibrary(dplyr)\nhead(mpg)\nglimpse(mpg)\nsummary(mpg)\n```\n\nNow, we plot the relationship between `automobile class` and `drive type` (front-wheel, rear-wheel, or 4-wheel drive) for the automobiles using stacked, or segmented bar charts.\n\n#### Stacked bar chart\n\n```{r}\n#| label: fig-stackbar\n#| fig-cap: Stacked Bar Chart of Automobiles\nlibrary(ggplot2)\nggplot(mpg, \n       aes(x = class, \n           fill = drv)) + \n  geom_bar(position = \"stack\")+\n  scale_fill_discrete(labels = c(\"4-wheel\", \"front-wheel\", \"rear-wheel\"))\n```\n\nAccording to the @fig-stackbar, the most common vehicle is the SUV. All 2seater cars are rear wheel drive, and most of the SUVs are 4-wheel drive. All minivans are front wheel drive, and all pickups are four wheel.\n\n#### Segmented bar plot\n\nThis is also a stacked bar plot where each bar represents 100 percent.\n\n```{r}\n#| label: fig-segmentbar\n#| fig-cap: Segmented Bar Chart of Automobiles\nlibrary(dplyr)\nplotdata <- mpg %>%\n  group_by(class, drv) %>%\n  summarize(n = n()) %>% \n  mutate(pct = n/sum(n),\n         lbl = scales::percent(pct))\nggplot(plotdata, \n       aes(x = factor(class,\n                      levels = c(\"2seater\", \"subcompact\", \n                                 \"compact\", \"midsize\", \n                                 \"minivan\", \"suv\", \"pickup\")),\n           y = pct,\n           fill = factor(drv, \n                         levels = c(\"f\", \"r\", \"4\"),\n                         labels = c(\"front-wheel\", \n                                    \"rear-wheel\", \n                                    \"4-wheel\")))) + \ngeom_bar(stat = \"identity\",\n           position = \"fill\") +\n  scale_y_continuous(breaks = seq(0, 1, .2)) +\n  geom_text(aes(label = lbl), \n            size = 3, \n            position = position_stack(vjust = 0.5)) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(y = \"Percent\", \n       fill = \"Drive Train\",\n       x = \"Class\",\n       title = \"Automobile Drive by Class\") +\n  theme_minimal()\n```\n\nYou can easily change the options shown in the above @fig-segmentbar.\n\n## References {.unnumbered}\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"wrap","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"css":["../../../styles.css","../lectures.css"],"number-sections":true,"output-file":"lecture2.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.38","editor":"visual","theme":"cosmo","code-copy":true,"sidebar":"lectures","search":false,"title":"Learn Quarto","author":"Pushpakanthie Wijekoon","affiliation":"Department of Statistics & Computer Science, University of","toc-location":"left","title-block-banner":true},"extensions":{"book":{"multiFile":true}}}}}